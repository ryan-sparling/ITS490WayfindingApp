# GPS

Gets the GPS information, native apps only.

## constructor

```javascript
new GPS(options:Object)
```


## options

name | description
-------|--------------
`maxAge` | (optional) The maximum age of the required location in seconds. (defaults to 60)
`requiredAccuracy` | (optional) Each location is provided with a horizontal accuracy value which defines the radius, in metres, of a circle which could possibly contain the user's location. This parameter defines the maximum radius, in metres, of that circle, i.e. a location with a greater horizontal accuracy will not be returned. Note this value should be set to a practical minimum of 10m. (default to 100)
`timeout` | (optional) If the native application needs to request a new location from the operating system then there may be a delay obtaining this location. This value defines the maximum time in seconds this process will be allowed to run, if a suitable location is not found in this time then an error will be returned. (defaults to 15)


## events

### `location`

called when the GPS information has been retrieved

#### event arguments
* `location` : (object) location data

  should take the form:

```javascript
{
    longitude : "-3.186882",
    latitude : "53.367239",
    horizontalAccuracy : 24.2, // in metres
    altitude : 1002.5, // in metres above sea level
    verticalAccuracy : 300.3, // in metres
    timestamp : 1565253251797, // timestamp of fix, in milliseconds since unix epoch 
    bearing : 226.2, // direction of travel in degrees. Not always available
    speed : 3.3 // in metres per second. Not always available
}    

```

### `error`

called when something goes wrong

event arguments

* `error` : (object) error information
  will have the form
```javascript
{
    errorType : "permission", // (string) word describing the ype of error
    errorDescription :"User has not granted location permission" // (string) friendly message describing the error
}
```

## Example AEK implementation

``` javascript
    import {GPS} from "@ombiel/aek-lib";

    const params = {
      maxAge: 60,
      requiredAccuracy: 100,
      timeout: 15
    };
    const gps = new GPS(params);

    gps.on("location", (location) => {
      setLocation(location);
    });

    gps.on("error", (error) => {
      console.log(error.errorDescription);
    });


```
